<div class="fitmate-container-show">
  <div class="show-header">
    <div class="show-title">
      <%= @event.title %>
      <%= @event.localisation.split(" ").last %>
    </div>
    <div class="show-image">
      <%= image_tag('soccer-1.jpg', class:"image-event") %>
    </div>
    <div class="show-distance">
      <% user_coordinates = request.location.coordinates %>
      <% wagon_coordinates = [47.21112643898949, -1.5500990500139393] %>
      <% event_coordinates = [@event.latitude, @event.longitude] %>
      <% unless user_coordinates.empty? %>
        <i class="fa-solid fa-map-location-dot icon-map" style="color: #f6d0a5;"></i><%= Geocoder::Calculations.distance_between([user_coordinates],[@event.latitude,@event.longitude]) %>
      <% else %>
        <i class="fa-solid fa-map-location-dot icon-map" style="color: #f6d0a5;"></i><%= Geocoder::Calculations.distance_between(wagon_coordinates,[@event.latitude,@event.longitude]).round(2) %> km from your position
      <% end %>
    </div>
    <div class="show-duration-level">
      <%= @event.event_level %>
    </div>
    <div class="show-description">
      <%= @event.description %>
    </div>
    <div class="show-organizer">
      <p>Organized by</p>
      <div class="show-organizer-img">
        <%= cl_image_tag @organizer.photo.key, class:"organizer-img" %>
        <%= @event.organizer.username %>
        <i class="fa-sharp fa-solid fa-share-nodes" style="color: #f6d0a5;"></i>
      </div>
    </div>

  </div>
</div>
